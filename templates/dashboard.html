<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UrbanMind Dashboard</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
    <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <div class="sidebar">
        <div class="brand">ğŸ™ï¸ UrbanMind</div>
        
        <div class="card">
            <h3>Population Density</h3>
            <p class="desc">Set density to calculate service range.</p>
            
            <div class="density-control">
                <input type="number" id="densityInput" value="1000" min="100" max="5000">
                <span class="unit">ppl/kmÂ²</span>
            </div>
            
            <input type="range" id="densitySlider" min="100" max="5000" value="1000">
            
            <div class="btn-group">
                <button onclick="calculateCoverage()" class="btn-action primary">
                    <i class="fas fa-calculator"></i> Calculate
                </button>
                <button onclick="clearCoverage()" class="btn-action secondary">
                    <i class="fas fa-eye-slash"></i> Hide
                </button>
            </div>
        </div>

        <div class="card">
            <h3>Builder Mode</h3>
            <p class="desc">Build services or draw custom zones.</p>
            
            <div class="builder-controls">
                <select id="builderService">
                    <option value="" disabled selected>-- Select Type --</option>
                    <option value="hospital">ğŸ¥ Hospital</option>
                    <option value="school">ğŸ« School</option>
                    <option value="atm">ğŸ§ ATM</option>
                    <option value="park">ğŸŒ³ Park / Green Zone</option>
                    <option value="commercial">ğŸ¢ Commercial Zone</option>
                    <option value="residential">ğŸ  Residential Zone</option>
                </select>
                
                <button id="toggleBuildBtn" onclick="toggleBuildMode()" class="btn-full" style="margin-bottom:5px;">
                    ğŸ“ Place Point Service
                </button>
                
                <button id="togglePolyBtn" onclick="togglePolyMode()" class="btn-full secondary">
                    âœï¸ Draw Custom Area
                </button>
            </div>
            <div id="mode-status">Status: View Only</div>
        </div>

        <div class="card">
            <h3>Actions</h3>
            <button onclick="exportData()" class="btn-secondary">â¬‡ Export GeoJSON</button>
        </div>

        <div class="card">
            <h3>Distribution</h3>
            <div id="chart_div"></div>
        </div>
        
        <a href="/" class="btn-action secondary" style="text-decoration:none; margin-top:auto;">
            <i class="fas fa-cloud-upload-alt"></i> Upload New File
        </a>
    </div>

    <div id="map"></div>

    <script src="/static/app.js"></script>
</body>
</html>
